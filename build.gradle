/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
plugins {
	id 'java'
	id 'fabric-loom' version '0.5-SNAPSHOT' apply false
}

allprojects {
	repositories {
		maven {
			name = "Ladysnake Libs"
			url = "https://dl.bintray.com/ladysnake/libs"
		}
	}
} 

subprojects {
	apply plugin: 'java'
	apply plugin: 'fabric-loom'

	version = '3.0.0'
	archivesBaseName = 'arcanecraft'
	group = 'org.example'

	tasks.withType(JavaCompile) {
		options.encoding = "UTF-8"
	}

	task sourcesJar(type: Jar, dependsOn: classes) {
		classifier = "sources"
		from sourceSets.main.allSource
	}

	jar {
		from "LICENSE"
	}

	processResources {
		inputs.property "version", project.version

		filesMatching("fabric.mod.json") {
			expand "version": project.version
		}
	}

	sourceCompatibility = JavaVersion.VERSION_1_8
	targetCompatibility = JavaVersion.VERSION_1_8

	compileJava {
		sourceCompatibility = JavaVersion.VERSION_1_8
		targetCompatibility = JavaVersion.VERSION_1_8
	}

	dependencies {
		minecraft "com.mojang:minecraft:${project.mc_version}"
		mappings "net.fabricmc:yarn:${project.mc_version}+build.${project.yarn_build}:v2"
		modImplementation "net.fabricmc.fabric-api:fabric-api:${project.fapi_version}"
		modImplementation "net.fabricmc:fabric-loader:0.10.6+build.214"
		modImplementation "io.github.onyxstudios.Cardinal-Components-API:cardinal-components-base:${project.cca_version}"
		modImplementation "io.github.onyxstudios.Cardinal-Components-API:cardinal-components-entity:${project.cca_version}"
		modImplementation ("io.github.prospector:modmenu:${project.modmenu_version}") {
			exclude module: 'fabric-api'
		}
	}
}
